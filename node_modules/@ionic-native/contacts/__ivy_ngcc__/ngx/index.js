import { __decorate, __extends } from "tslib";
import { IonicNativePlugin, checkAvailability, cordovaInstance, instanceAvailability, instancePropertyGet, instancePropertySet, getPromise } from '@ionic-native/core';
var Contact = /** @class */ (function () {
    function Contact() {
        if (checkAvailability('navigator.contacts', 'create', 'Contacts') === true) {
            this._objectInstance = navigator.contacts.create();
        }
    }
    Contact.prototype.clone = function () {
        var _this = this;
        return (function () {
            if (instanceAvailability(_this) === true) {
                var newContact = new Contact();
                for (var prop in _this) {
                    if (prop === 'id')
                        return;
                    newContact[prop] = _this[prop];
                }
                return newContact;
            }
        })();
    };
    Contact.prototype.remove = function () { return cordovaInstance(this, "remove", {}, arguments); };
    Contact.prototype.save = function () {
        var _this = this;
        return (function () {
            if (instanceAvailability(_this) === true) {
                return getPromise(function (resolve, reject) {
                    _this._objectInstance.save(function (contact) {
                        _this._objectInstance = contact;
                        resolve(_this);
                    }, reject);
                });
            }
        })();
    };
    Object.defineProperty(Contact.prototype, "id", {
        get: function () { return instancePropertyGet(this, "id"); },
        set: function (value) { instancePropertySet(this, "id", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "displayName", {
        get: function () { return instancePropertyGet(this, "displayName"); },
        set: function (value) { instancePropertySet(this, "displayName", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "name", {
        get: function () { return instancePropertyGet(this, "name"); },
        set: function (value) { instancePropertySet(this, "name", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "nickname", {
        get: function () { return instancePropertyGet(this, "nickname"); },
        set: function (value) { instancePropertySet(this, "nickname", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "phoneNumbers", {
        get: function () { return instancePropertyGet(this, "phoneNumbers"); },
        set: function (value) { instancePropertySet(this, "phoneNumbers", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "emails", {
        get: function () { return instancePropertyGet(this, "emails"); },
        set: function (value) { instancePropertySet(this, "emails", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "addresses", {
        get: function () { return instancePropertyGet(this, "addresses"); },
        set: function (value) { instancePropertySet(this, "addresses", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "ims", {
        get: function () { return instancePropertyGet(this, "ims"); },
        set: function (value) { instancePropertySet(this, "ims", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "organizations", {
        get: function () { return instancePropertyGet(this, "organizations"); },
        set: function (value) { instancePropertySet(this, "organizations", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "birthday", {
        get: function () { return instancePropertyGet(this, "birthday"); },
        set: function (value) { instancePropertySet(this, "birthday", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "note", {
        get: function () { return instancePropertyGet(this, "note"); },
        set: function (value) { instancePropertySet(this, "note", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "photos", {
        get: function () { return instancePropertyGet(this, "photos"); },
        set: function (value) { instancePropertySet(this, "photos", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "categories", {
        get: function () { return instancePropertyGet(this, "categories"); },
        set: function (value) { instancePropertySet(this, "categories", value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Contact.prototype, "urls", {
        get: function () { return instancePropertyGet(this, "urls"); },
        set: function (value) { instancePropertySet(this, "urls", value); },
        enumerable: true,
        configurable: true
    });
    return Contact;
}());
export { Contact };
var ContactName = /** @class */ (function () {
    function ContactName(formatted, familyName, givenName, middleName, honorificPrefix, honorificSuffix) {
        this.formatted = formatted;
        this.familyName = familyName;
        this.givenName = givenName;
        this.middleName = middleName;
        this.honorificPrefix = honorificPrefix;
        this.honorificSuffix = honorificSuffix;
    }
    return ContactName;
}());
export { ContactName };
var ContactField = /** @class */ (function () {
    function ContactField(type, value, pref) {
        this.type = type;
        this.value = value;
        this.pref = pref;
    }
    return ContactField;
}());
export { ContactField };
var ContactAddress = /** @class */ (function () {
    function ContactAddress(pref, type, formatted, streetAddress, locality, region, postalCode, country) {
        this.pref = pref;
        this.type = type;
        this.formatted = formatted;
        this.streetAddress = streetAddress;
        this.locality = locality;
        this.region = region;
        this.postalCode = postalCode;
        this.country = country;
    }
    return ContactAddress;
}());
export { ContactAddress };
var ContactOrganization = /** @class */ (function () {
    function ContactOrganization(type, name, department, title, pref) {
        this.type = type;
        this.name = name;
        this.department = department;
        this.title = title;
        this.pref = pref;
    }
    return ContactOrganization;
}());
export { ContactOrganization };
var ContactFindOptions = /** @class */ (function () {
    function ContactFindOptions(filter, multiple, desiredFields, hasPhoneNumber) {
        this.filter = filter;
        this.multiple = multiple;
        this.desiredFields = desiredFields;
        this.hasPhoneNumber = hasPhoneNumber;
    }
    return ContactFindOptions;
}());
export { ContactFindOptions };
var Contacts = /** @class */ (function (_super) {
    __extends(Contacts, _super);
    function Contacts() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Create a single contact.
     * @returns {Contact} Returns a Contact object
     */
    Contacts.prototype.create = function () {
        return new Contact();
    };
    Contacts.prototype.find = function (fields, options) {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return getPromise(function (resolve, reject) {
                    navigator.contacts.find(fields, function (contacts) {
                        resolve(contacts.map(processContact));
                    }, reject, options);
                });
            }
        })();
    };
    Contacts.prototype.pickContact = function () {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return getPromise(function (resolve, reject) {
                    navigator.contacts.pickContact(function (contact) { return resolve(processContact(contact)); }, reject);
                });
            }
        })();
    };
    Contacts.pluginName = "Contacts";
    Contacts.plugin = "cordova-plugin-contacts";
    Contacts.pluginRef = "navigator.contacts";
    Contacts.repo = "https://github.com/apache/cordova-plugin-contacts";
    Contacts.platforms = ["Android", "BlackBerry 10", "Browser", "Firefox OS", "iOS", "Ubuntu", "Windows", "Windows 8", "Windows Phone"];
    Contacts = __decorate([], Contacts);
    return Contacts;
}(IonicNativePlugin));
export { Contacts };
/**
 * @hidden
 */
function processContact(contact) {
    var newContact = new Contact();
    for (var prop in contact) {
        if (typeof contact[prop] === 'function')
            continue;
        newContact[prop] = contact[prop];
    }
    return newContact;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9AaW9uaWMtbmF0aXZlL3BsdWdpbnMvY29udGFjdHMvbmd4L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLHlIQVFMLFVBQVUsRUFDWCxNQUFNLG9CQUFvQixDQUFDOztJQXVHMUI7UUFDRSxJQUFJLGlCQUFpQixDQUFDLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxVQUFVLENBQUMsS0FBSyxJQUFJLEVBQUU7WUFDMUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO1NBQ3BEO0lBQ0gsQ0FBQztJQUdELHVCQUFLOzs7c0RBQVk7Z0JBQ2YsSUFBTSxVQUFVLEdBQVEsSUFBSSxPQUFPLEVBQUUsQ0FBQztnQkFDdEMsS0FBSyxJQUFNLElBQUksSUFBSSxLQUFJLEVBQUU7b0JBQ3ZCLElBQUksSUFBSSxLQUFLLElBQUk7d0JBQUUsT0FBTztvQkFDMUIsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDL0I7Z0JBQ0QsT0FBTyxVQUFVLENBQUM7YUFDbkI7OztJQUdELHdCQUFNO0lBS04sc0JBQUk7OztzREFBaUI7Z0JBQ25CLE9BQU8sVUFBVSxDQUFDLFVBQUMsT0FBaUIsRUFBRSxNQUFnQjtvQkFDcEQsS0FBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsVUFBQyxPQUFZO3dCQUNyQyxLQUFJLENBQUMsZUFBZSxHQUFHLE9BQU8sQ0FBQzt3QkFDL0IsT0FBTyxDQUFDLEtBQUksQ0FBQyxDQUFDO29CQUNoQixDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQ2IsQ0FBQyxDQUFDLENBQUM7YUFDSjs7OzBCQS9DbUIsdUJBQUU7Ozs7OzswQkFDRixnQ0FBVzs7Ozs7OzBCQUNYLHlCQUFJOzs7Ozs7MEJBQ0osNkJBQVE7Ozs7OzswQkFDUixpQ0FBWTs7Ozs7OzBCQUNa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QUM7Z0JBQzdGLENBQUMsQ0FBQyxDQUFDO2FBQ0o7Ozs7Ozs7O0lBdENVLFFBQVEsa0JBQVIsUUFBUTttQkFoV3JCO0VBZ1c4QixpQkFBaUI7U0FBbEMsUUFBUTtBQXlDckI7O0dBRUc7QUFDSCxTQUFTLGNBQWMsQ0FBQyxPQUFZO0lBQ2xDLElBQU0sVUFBVSxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7SUFDakMsS0FBSyxJQUFNLElBQUksSUFBSSxPQUFPLEVBQUU7UUFDMUIsSUFBSSxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxVQUFVO1lBQUUsU0FBUztRQUNsRCxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xDO0lBQ0QsT0FBTyxVQUFVLENBQUM7QUFDcEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENvcmRvdmFDaGVjayxcbiAgQ29yZG92YUluc3RhbmNlLFxuICBJbnN0YW5jZUNoZWNrLFxuICBJbnN0YW5jZVByb3BlcnR5LFxuICBJb25pY05hdGl2ZVBsdWdpbixcbiAgUGx1Z2luLFxuICBjaGVja0F2YWlsYWJpbGl0eSxcbiAgZ2V0UHJvbWlzZSxcbn0gZnJvbSAnQGlvbmljLW5hdGl2ZS9jb3JlJztcblxuZGVjbGFyZSBjb25zdCB3aW5kb3c6IGFueSwgbmF2aWdhdG9yOiBhbnk7XG5cbmV4cG9ydCB0eXBlIENvbnRhY3RGaWVsZFR5cGUgPVxuICB8ICcqJ1xuICB8ICdhZGRyZXNzZXMnXG4gIHwgJ2JpcnRoZGF5J1xuICB8ICdjYXRlZ29yaWVzJ1xuICB8ICdjb3VudHJ5J1xuICB8ICdkZXBhcnRtZW50J1xuICB8ICdkaXNwbGF5TmFtZSdcbiAgfCAnZW1haWxzJ1xuICB8ICduYW1lLmZhbWlseU5hbWUnXG4gIHwgJ25hbWUuZm9ybWF0dGVkJ1xuICB8ICduYW1lLmdpdmVuTmFtZSdcbiAgfCAnbmFtZS5ob25vcmlmaWNQcmVmaXgnXG4gIHwgJ25hbWUuaG9ub3JpZmljU3VmZml4J1xuICB8ICdpZCdcbiAgfCAnaW1zJ1xuICB8ICdsb2NhbGl0eSdcbiAgfCAnbmFtZS5taWRkbGVOYW1lJ1xuICB8ICduYW1lJ1xuICB8ICduaWNrbmFtZSdcbiAgfCAnbm90ZSdcbiAgfCAnb3JnYW5pemF0aW9ucydcbiAgfCAncGhvbmVOdW1iZXJzJ1xuICB8ICdwaG90b3MnXG4gIHwgJ3Bvc3RhbENvZGUnXG4gIHwgJ3JlZ2lvbidcbiAgfCAnc3RyZWV0QWRkcmVzcydcbiAgfCAndGl0bGUnXG4gIHwgJ3VybHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElDb250YWN0UHJvcGVydGllcyB7XG4gIC8qKiBBIGdsb2JhbGx5IHVuaXF1ZSBpZGVudGlmaWVyLiAqL1xuICBpZD86IHN0cmluZztcblxuICAvKiogQSBnbG9iYWxseSB1bmlxdWUgaWRlbnRpZmllciBvbiBBbmRyb2lkLiAqL1xuICByYXdJZD86IHN0cmluZztcblxuICAvKiogVGhlIG5hbWUgb2YgdGhpcyBDb250YWN0LCBzdWl0YWJsZSBmb3IgZGlzcGxheSB0byBlbmQgdXNlcnMuICovXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuXG4gIC8qKiBBbiBvYmplY3QgY29udGFpbmluZyBhbGwgY29tcG9uZW50cyBvZiBhIHBlcnNvbnMgbmFtZS4gKi9cbiAgbmFtZT86IElDb250YWN0TmFtZTtcblxuICAvKiogQSBjYXN1YWwgbmFtZSBieSB3aGljaCB0byBhZGRyZXNzIHRoZSBjb250YWN0LiAqL1xuICBuaWNrbmFtZT86IHN0cmluZztcblxuICAvKiogQW4gYXJyYXkgb2YgYWxsIHRoZSBjb250YWN0J3MgcGhvbmUgbnVtYmVycy4gKi9cbiAgcGhvbmVOdW1iZXJzPzogSUNvbnRhY3RGaWVsZFtdO1xuXG4gIC8qKiBBbiBhcnJheSBvZiBhbGwgdGhlIGNvbnRhY3QncyBlbWFpbCBhZGRyZXNzZXMuICovXG4gIGVtYWlscz86IElDb250YWN0RmllbGRbXTtcblxuICAvKiogQW4gYXJyYXkgb2YgYWxsIHRoZSBjb250YWN0J3MgYWRkcmVzc2VzLiAqL1xuICBhZGRyZXNzZXM/OiBJQ29udGFjdEFkZHJlc3NbXTtcblxuICAvKiogQW4gYXJyYXkgb2YgYWxsIHRoZSBjb250YWN0J3MgSU0gYWRkcmVzc2VzLiAqL1xuICBpbXM/OiBJQ29udGFjdEZpZWxkW107XG5cbiAgLyoqIEFuIGFycmF5IG9mIGFsbCB0aGUgY29udGFjdCdzIG9yZ2FuaXphdGlvbnMuICovXG4gIG9yZ2FuaXphdGlvbnM/OiBJQ29udGFjdE9yZ2FuaXphdGlvbltdO1xuXG4gIC8qKiBUaGUgYmlydGhkYXkgb2YgdGhlIGNvbnRhY3QuICovXG4gIGJpcnRoZGF5PzogRGF0ZTtcblxuICAvKiogQSBub3RlIGFib3V0IHRoZSBjb250YWN0LiAqL1xuICBub3RlPzogc3RyaW5nO1xuXG4gIC8qKiBBbiBhcnJheSBvZiB0aGUgY29udGFjdCdzIHBob3Rvcy4gKi9cbiAgcGhvdG9zPzogSUNvbnRhY3RGaWVsZFtdO1xuXG4gIC8qKiBBbiBhcnJheSBvZiBhbGwgdGhlIHVzZXItZGVmaW5lZCBjYXRlZ29yaWVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY29udGFjdC4gKi9cbiAgY2F0ZWdvcmllcz86IElDb250YWN0RmllbGRbXTtcblxuICAvKiogQW4gYXJyYXkgb2Ygd2ViIHBhZ2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY29udGFjdC4gKi9cbiAgdXJscz86IElDb250YWN0RmllbGRbXTtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250YWN0IGltcGxlbWVudHMgSUNvbnRhY3RQcm9wZXJ0aWVzIHtcbiAgQEluc3RhbmNlUHJvcGVydHkoKSBpZDogc3RyaW5nO1xuICBASW5zdGFuY2VQcm9wZXJ0eSgpIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIEBJbnN0YW5jZVByb3BlcnR5KCkgbmFtZTogSUNvbnRhY3ROYW1lO1xuICBASW5zdGFuY2VQcm9wZXJ0eSgpIG5pY2tuYW1lOiBzdHJpbmc7XG4gIEBJbnN0YW5jZVByb3BlcnR5KCkgcGhvbmVOdW1iZXJzOiBJQ29udGFjdEZpZWxkW107XG4gIEBJbnN0YW5jZVByb3BlcnR5KCkgZW1haWxzOiBJQ29udGFjdEZpZWxkW107XG4gIEBJbnN0YW5jZVByb3BlcnR5KCkgYWRkcmVzc2VzOiBJQ29udGFjdEFkZHJlc3NbXTtcbiAgQEluc3RhbmNlUHJvcGVydHkoKSBpbXM6IElDb250YWN0RmllbGRbXTtcbiAgQEluc3RhbmNlUHJvcGVydHkoKSBvcmdhbml6YXRpb25zOiBJQ29udGFjdE9yZ2FuaXphdGlvbltdO1xuICBASW5zdGFuY2VQcm9wZXJ0eSgpIGJpcnRoZGF5OiBEYXRlO1xuICBASW5zdGFuY2VQcm9wZXJ0eSgpIG5vdGU6IHN0cmluZztcbiAgQEluc3RhbmNlUHJvcGVydHkoKSBwaG90b3M6IElDb250YWN0RmllbGRbXTtcbiAgQEluc3RhbmNlUHJvcGVydHkoKSBjYXRlZ29yaWVzOiBJQ29udGFjdEZpZWxkW107XG4gIEBJbnN0YW5jZVByb3BlcnR5KCkgdXJsczogSUNvbnRhY3RGaWVsZFtdO1xuICBwcml2YXRlIF9vYmplY3RJbnN0YW5jZTogYW55O1xuXG4gIFtrZXk6IHN0cmluZ106IGFueTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAoY2hlY2tBdmFpbGFiaWxpdHkoJ25hdmlnYXRvci5jb250YWN0cycsICdjcmVhdGUnLCAnQ29udGFjdHMnKSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5fb2JqZWN0SW5zdGFuY2UgPSBuYXZpZ2F0b3IuY29udGFjdHMuY3JlYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgQEluc3RhbmNlQ2hlY2soKVxuICBjbG9uZSgpOiBDb250YWN0IHtcbiAgICBjb25zdCBuZXdDb250YWN0OiBhbnkgPSBuZXcgQ29udGFjdCgpO1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiB0aGlzKSB7XG4gICAgICBpZiAocHJvcCA9PT0gJ2lkJykgcmV0dXJuO1xuICAgICAgbmV3Q29udGFjdFtwcm9wXSA9IHRoaXNbcHJvcF07XG4gICAgfVxuICAgIHJldHVybiBuZXdDb250YWN0O1xuICB9XG5cbiAgQENvcmRvdmFJbnN0YW5jZSgpXG4gIHJlbW92ZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIEBJbnN0YW5jZUNoZWNrKClcbiAgc2F2ZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiBnZXRQcm9taXNlKChyZXNvbHZlOiBGdW5jdGlvbiwgcmVqZWN0OiBGdW5jdGlvbikgPT4ge1xuICAgICAgdGhpcy5fb2JqZWN0SW5zdGFuY2Uuc2F2ZSgoY29udGFjdDogYW55KSA9PiB7XG4gICAgICAgIHRoaXMuX29iamVjdEluc3RhbmNlID0gY29udGFjdDtcbiAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbnRhY3RFcnJvciB7XG4gIC8qKiBFcnJvciBjb2RlICovXG4gIGNvZGU6IG51bWJlcjtcbiAgLyoqIEVycm9yIG1lc3NhZ2UgKi9cbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGRlY2xhcmUgY29uc3QgQ29udGFjdEVycm9yOiB7XG4gIG5ldyAoY29kZTogbnVtYmVyKTogSUNvbnRhY3RFcnJvcjtcbiAgVU5LTk9XTl9FUlJPUjogbnVtYmVyO1xuICBJTlZBTElEX0FSR1VNRU5UX0VSUk9SOiBudW1iZXI7XG4gIFRJTUVPVVRfRVJST1I6IG51bWJlcjtcbiAgUEVORElOR19PUEVSQVRJT05fRVJST1I6IG51bWJlcjtcbiAgSU9fRVJST1I6IG51bWJlcjtcbiAgTk9UX1NVUFBPUlRFRF9FUlJPUjogbnVtYmVyO1xuICBQRVJNSVNTSU9OX0RFTklFRF9FUlJPUjogbnVtYmVyO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBJQ29udGFjdE5hbWUge1xuICAvKiogVGhlIGNvbXBsZXRlIG5hbWUgb2YgdGhlIGNvbnRhY3QuICovXG4gIGZvcm1hdHRlZD86IHN0cmluZztcbiAgLyoqIFRoZSBjb250YWN0J3MgZmFtaWx5IG5hbWUuICovXG4gIGZhbWlseU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgY29udGFjdCdzIGdpdmVuIG5hbWUuICovXG4gIGdpdmVuTmFtZT86IHN0cmluZztcbiAgLyoqIFRoZSBjb250YWN0J3MgbWlkZGxlIG5hbWUuICovXG4gIG1pZGRsZU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgY29udGFjdCdzIHByZWZpeCAoZXhhbXBsZSBNci4gb3IgRHIuKSAqL1xuICBob25vcmlmaWNQcmVmaXg/OiBzdHJpbmc7XG4gIC8qKiBUaGUgY29udGFjdCdzIHN1ZmZpeCAoZXhhbXBsZSBFc3EuKS4gKi9cbiAgaG9ub3JpZmljU3VmZml4Pzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRhY3ROYW1lIGltcGxlbWVudHMgSUNvbnRhY3ROYW1lIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGZvcm1hdHRlZD86IHN0cmluZyxcbiAgICBwdWJsaWMgZmFtaWx5TmFtZT86IHN0cmluZyxcbiAgICBwdWJsaWMgZ2l2ZW5OYW1lPzogc3RyaW5nLFxuICAgIHB1YmxpYyBtaWRkbGVOYW1lPzogc3RyaW5nLFxuICAgIHB1YmxpYyBob25vcmlmaWNQcmVmaXg/OiBzdHJpbmcsXG4gICAgcHVibGljIGhvbm9yaWZpY1N1ZmZpeD86IHN0cmluZ1xuICApIHt9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbnRhY3RGaWVsZCB7XG4gIC8qKiBBIHN0cmluZyB0aGF0IGluZGljYXRlcyB3aGF0IHR5cGUgb2YgZmllbGQgdGhpcyBpcywgaG9tZSBmb3IgZXhhbXBsZS4gKi9cbiAgdHlwZT86IHN0cmluZztcbiAgLyoqIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQsIHN1Y2ggYXMgYSBwaG9uZSBudW1iZXIgb3IgZW1haWwgYWRkcmVzcy4gKi9cbiAgdmFsdWU/OiBzdHJpbmc7XG4gIC8qKiBTZXQgdG8gdHJ1ZSBpZiB0aGlzIENvbnRhY3RGaWVsZCBjb250YWlucyB0aGUgdXNlcidzIHByZWZlcnJlZCB2YWx1ZS4gKi9cbiAgcHJlZj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgQ29udGFjdEZpZWxkIGltcGxlbWVudHMgSUNvbnRhY3RGaWVsZCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB0eXBlPzogc3RyaW5nLCBwdWJsaWMgdmFsdWU/OiBzdHJpbmcsIHB1YmxpYyBwcmVmPzogYm9vbGVhbikge31cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ29udGFjdEFkZHJlc3Mge1xuICAvKiogU2V0IHRvIHRydWUgaWYgdGhpcyBDb250YWN0QWRkcmVzcyBjb250YWlucyB0aGUgdXNlcidzIHByZWZlcnJlZCB2YWx1ZS4gKi9cbiAgcHJlZj86IGJvb2xlYW47XG4gIC8qKiBBIHN0cmluZyBpbmRpY2F0aW5nIHdoYXQgdHlwZSBvZiBmaWVsZCB0aGlzIGlzLCBob21lIGZvciBleGFtcGxlLiAqL1xuICB0eXBlPzogc3RyaW5nO1xuICAvKiogVGhlIGZ1bGwgYWRkcmVzcyBmb3JtYXR0ZWQgZm9yIGRpc3BsYXkuICovXG4gIGZvcm1hdHRlZD86IHN0cmluZztcbiAgLyoqIFRoZSBmdWxsIHN0cmVldCBhZGRyZXNzLiAqL1xuICBzdHJlZXRBZGRyZXNzPzogc3RyaW5nO1xuICAvKiogVGhlIGNpdHkgb3IgbG9jYWxpdHkuICovXG4gIGxvY2FsaXR5Pzogc3RyaW5nO1xuICAvKiogVGhlIHN0YXRlIG9yIHJlZ2lvbi4gKi9cbiAgcmVnaW9uPzogc3RyaW5nO1xuICAvKiogVGhlIHppcCBjb2RlIG9yIHBvc3RhbCBjb2RlLiAqL1xuICBwb3N0YWxDb2RlPzogc3RyaW5nO1xuICAvKiogVGhlIGNvdW50cnkgbmFtZS4gKi9cbiAgY291bnRyeT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250YWN0QWRkcmVzcyBpbXBsZW1lbnRzIElDb250YWN0QWRkcmVzcyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBwcmVmPzogYm9vbGVhbixcbiAgICBwdWJsaWMgdHlwZT86IHN0cmluZyxcbiAgICBwdWJsaWMgZm9ybWF0dGVkPzogc3RyaW5nLFxuICAgIHB1YmxpYyBzdHJlZXRBZGRyZXNzPzogc3RyaW5nLFxuICAgIHB1YmxpYyBsb2NhbGl0eT86IHN0cmluZyxcbiAgICBwdWJsaWMgcmVnaW9uPzogc3RyaW5nLFxuICAgIHB1YmxpYyBwb3N0YWxDb2RlPzogc3RyaW5nLFxuICAgIHB1YmxpYyBjb3VudHJ5Pzogc3RyaW5nXG4gICkge31cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ29udGFjdE9yZ2FuaXphdGlvbiB7XG4gIC8qKiBTZXQgdG8gdHJ1ZSBpZiB0aGlzIENvbnRhY3RPcmdhbml6YXRpb24gY29udGFpbnMgdGhlIHVzZXIncyBwcmVmZXJyZWQgdmFsdWUuICovXG4gIHByZWY/OiBib29sZWFuO1xuICAvKiogQSBzdHJpbmcgdGhhdCBpbmRpY2F0ZXMgd2hhdCB0eXBlIG9mIGZpZWxkIHRoaXMgaXMsIGhvbWUgZm9yIGV4YW1wbGUuICovXG4gIHR5cGU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgbmFtZSBvZiB0aGUgb3JnYW5pemF0aW9uLiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogVGhlIGRlcGFydG1lbnQgdGhlIGNvbnRyYWN0IHdvcmtzIGZvci4gKi9cbiAgZGVwYXJ0bWVudD86IHN0cmluZztcbiAgLyoqIFRoZSBjb250YWN0J3MgdGl0bGUgYXQgdGhlIG9yZ2FuaXphdGlvbi4gKi9cbiAgdGl0bGU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgQ29udGFjdE9yZ2FuaXphdGlvbiBpbXBsZW1lbnRzIElDb250YWN0T3JnYW5pemF0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHR5cGU/OiBzdHJpbmcsXG4gICAgcHVibGljIG5hbWU/OiBzdHJpbmcsXG4gICAgcHVibGljIGRlcGFydG1lbnQ/OiBzdHJpbmcsXG4gICAgcHVibGljIHRpdGxlPzogc3RyaW5nLFxuICAgIHB1YmxpYyBwcmVmPzogYm9vbGVhblxuICApIHt9XG59XG5cbi8qKiBTZWFyY2ggb3B0aW9ucyB0byBmaWx0ZXIgbmF2aWdhdG9yLmNvbnRhY3RzLiAgKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbnRhY3RGaW5kT3B0aW9ucyB7XG4gIC8qKiBUaGUgc2VhcmNoIHN0cmluZyB1c2VkIHRvIGZpbmQgbmF2aWdhdG9yLmNvbnRhY3RzLiAqL1xuICBmaWx0ZXI/OiBzdHJpbmc7XG4gIC8qKiBEZXRlcm1pbmVzIGlmIHRoZSBmaW5kIG9wZXJhdGlvbiByZXR1cm5zIG11bHRpcGxlIG5hdmlnYXRvci5jb250YWN0cy4gRGVmYXVsdHMgdG8gZmFsc2UuICovXG4gIG11bHRpcGxlPzogYm9vbGVhbjtcbiAgLyoqIENvbnRhY3QgZmllbGRzIHRvIGJlIHJldHVybmVkIGJhY2suIElmIHNwZWNpZmllZCwgdGhlIHJlc3VsdGluZyBDb250YWN0IG9iamVjdCBvbmx5IGZlYXR1cmVzIHZhbHVlcyBmb3IgdGhlc2UgZmllbGRzLiAqL1xuICBkZXNpcmVkRmllbGRzPzogc3RyaW5nW107XG4gIC8qKlxuICAgKiAoQW5kcm9pZCBvbmx5KTogRmlsdGVycyB0aGUgc2VhcmNoIHRvIG9ubHkgcmV0dXJuIGNvbnRhY3RzIHdpdGggYSBwaG9uZSBudW1iZXIgaW5mb3JtZWQuXG4gICAqL1xuICBoYXNQaG9uZU51bWJlcj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgQ29udGFjdEZpbmRPcHRpb25zIGltcGxlbWVudHMgSUNvbnRhY3RGaW5kT3B0aW9ucyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBmaWx0ZXI/OiBzdHJpbmcsXG4gICAgcHVibGljIG11bHRpcGxlPzogYm9vbGVhbixcbiAgICBwdWJsaWMgZGVzaXJlZEZpZWxkcz86IHN0cmluZ1tdLFxuICAgIHB1YmxpYyBoYXNQaG9uZU51bWJlcj86IGJvb2xlYW5cbiAgKSB7fVxufVxuXG4vKipcbiAqIEBuYW1lIENvbnRhY3RzXG4gKiBAcHJlbWllciBjb250YWN0c1xuICogQGRlc2NyaXB0aW9uXG4gKiBBY2Nlc3MgYW5kIG1hbmFnZSBDb250YWN0cyBvbiB0aGUgZGV2aWNlLlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBAdXNhZ2VcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBDb250YWN0cywgQ29udGFjdCwgQ29udGFjdEZpZWxkLCBDb250YWN0TmFtZSB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29udGFjdHMvbmd4JztcbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbnRhY3RzOiBDb250YWN0cykgeyB9XG4gKlxuICogbGV0IGNvbnRhY3Q6IENvbnRhY3QgPSB0aGlzLmNvbnRhY3RzLmNyZWF0ZSgpO1xuICpcbiAqIGNvbnRhY3QubmFtZSA9IG5ldyBDb250YWN0TmFtZShudWxsLCAnU21pdGgnLCAnSm9obicpO1xuICogY29udGFjdC5waG9uZU51bWJlcnMgPSBbbmV3IENvbnRhY3RGaWVsZCgnbW9iaWxlJywgJzY0NzEyMzQ1NjcnKV07XG4gKiBjb250YWN0LnNhdmUoKS50aGVuKFxuICogICAoKSA9PiBjb25zb2xlLmxvZygnQ29udGFjdCBzYXZlZCEnLCBjb250YWN0KSxcbiAqICAgKGVycm9yOiBhbnkpID0+IGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBjb250YWN0LicsIGVycm9yKVxuICogKTtcbiAqXG4gKiBgYGBcbiAqIEBjbGFzc2VzXG4gKiBDb250YWN0XG4gKiBAaW50ZXJmYWNlc1xuICogSUNvbnRhY3RQcm9wZXJ0aWVzXG4gKiBJQ29udGFjdEVycm9yXG4gKiBJQ29udGFjdE5hbWVcbiAqIElDb250YWN0RmllbGRcbiAqIElDb250YWN0QWRkcmVzc1xuICogSUNvbnRhY3RPcmdhbml6YXRpb25cbiAqIElDb250YWN0RmluZE9wdGlvbnNcbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdDb250YWN0cycsXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLWNvbnRhY3RzJyxcbiAgcGx1Z2luUmVmOiAnbmF2aWdhdG9yLmNvbnRhY3RzJyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9hcGFjaGUvY29yZG92YS1wbHVnaW4tY29udGFjdHMnLFxuICBwbGF0Zm9ybXM6IFtcbiAgICAnQW5kcm9pZCcsXG4gICAgJ0JsYWNrQmVycnkgMTAnLFxuICAgICdCcm93c2VyJyxcbiAgICAnRmlyZWZveCBPUycsXG4gICAgJ2lPUycsXG4gICAgJ1VidW50dScsXG4gICAgJ1dpbmRvd3MnLFxuICAgICdXaW5kb3dzIDgnLFxuICAgICdXaW5kb3dzIFBob25lJyxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgQ29udGFjdHMgZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzaW5nbGUgY29udGFjdC5cbiAgICogQHJldHVybnMge0NvbnRhY3R9IFJldHVybnMgYSBDb250YWN0IG9iamVjdFxuICAgKi9cbiAgY3JlYXRlKCk6IENvbnRhY3Qge1xuICAgIHJldHVybiBuZXcgQ29udGFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlYXJjaCBmb3IgY29udGFjdHMgaW4gdGhlIENvbnRhY3RzIGxpc3QuXG4gICAqIEBwYXJhbSB7Q29udGFjdEZpZWxkVHlwZVtdfSBmaWVsZHMgQ29udGFjdCBmaWVsZHMgdG8gYmUgdXNlZCBhcyBhIHNlYXJjaCBxdWFsaWZpZXJcbiAgICogQHBhcmFtIHtJQ29udGFjdEZpbmRPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucyBmb3IgdGhlIHF1ZXJ5XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPENvbnRhY3RbXT59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgc2VhcmNoIHJlc3VsdHMgKGFuIGFycmF5IG9mIENvbnRhY3Qgb2JqZWN0cylcbiAgICovXG4gIEBDb3Jkb3ZhQ2hlY2soKVxuICBmaW5kKGZpZWxkczogQ29udGFjdEZpZWxkVHlwZVtdLCBvcHRpb25zPzogSUNvbnRhY3RGaW5kT3B0aW9ucyk6IFByb21pc2U8Q29udGFjdFtdPiB7XG4gICAgcmV0dXJuIGdldFByb21pc2UoKHJlc29sdmU6IEZ1bmN0aW9uLCByZWplY3Q6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICBuYXZpZ2F0b3IuY29udGFjdHMuZmluZChcbiAgICAgICAgZmllbGRzLFxuICAgICAgICAoY29udGFjdHM6IGFueVtdKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShjb250YWN0cy5tYXAocHJvY2Vzc0NvbnRhY3QpKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0LFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBhIHNpbmdsZSBDb250YWN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxDb250YWN0Pn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBzZWxlY3RlZCBDb250YWN0XG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgcGlja0NvbnRhY3QoKTogUHJvbWlzZTxDb250YWN0PiB7XG4gICAgcmV0dXJuIGdldFByb21pc2UoKHJlc29sdmU6IEZ1bmN0aW9uLCByZWplY3Q6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICBuYXZpZ2F0b3IuY29udGFjdHMucGlja0NvbnRhY3QoKGNvbnRhY3Q6IGFueSkgPT4gcmVzb2x2ZShwcm9jZXNzQ29udGFjdChjb250YWN0KSksIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NDb250YWN0KGNvbnRhY3Q6IGFueSkge1xuICBjb25zdCBuZXdDb250YWN0ID0gbmV3IENvbnRhY3QoKTtcbiAgZm9yIChjb25zdCBwcm9wIGluIGNvbnRhY3QpIHtcbiAgICBpZiAodHlwZW9mIGNvbnRhY3RbcHJvcF0gPT09ICdmdW5jdGlvbicpIGNvbnRpbnVlO1xuICAgIG5ld0NvbnRhY3RbcHJvcF0gPSBjb250YWN0W3Byb3BdO1xuICB9XG4gIHJldHVybiBuZXdDb250YWN0O1xufVxuIl19