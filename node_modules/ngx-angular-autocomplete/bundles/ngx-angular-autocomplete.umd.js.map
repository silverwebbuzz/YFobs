{"version":3,"file":"ngx-angular-autocomplete.umd.js","sources":["ng://ngx-angular-autocomplete/lib/ngx-autocomplete.service.ts","ng://ngx-angular-autocomplete/lib/ngx-autocomplete.component.ts","ng://ngx-angular-autocomplete/lib/dropdown.directive.ts","ng://ngx-angular-autocomplete/lib/ngx-autocomplete.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxAutocompleteService {\n\n  constructor() { }\n}\n","import { Component, OnInit, ViewChild, ElementRef, Output, EventEmitter, Input } from '@angular/core';\nimport { of, fromEvent, Observable } from \"rxjs\";\nimport { debounceTime, map, distinctUntilChanged, switchMap, tap } from \"rxjs/operators\";\n\n@Component({\n  selector: 'ngx-autocomplete',\n  template: `\n    <div class=\"position-relative\">\n\n    <input type=\"text\" class=\"form-control\" [placeholder]=\"placeholderValue\" id=\"auto-search\" #searchInput autocomplete=\"off\" [id]=\"inputId+1\" (click)=\"showSearches = true\" (keyup)=\"changeSuggestion($event)\">\n    \n    <div [id]=\"inputId+2\" clickOutside (clickOutside)=\"closeDropDown()\" [inputId]=\"inputId+1\" [hidden]=\"!showSearches\" class=\"dropdown-content\">\n        <a *ngFor=\"let entry of data; trackBy: trackById;let i = index\" tappable (click)=\"setValue(entry)\"  [ngClass]=\"{ 'suggestion-active' : i == activeSuggestion} \" id=\"list{{i}}\">\n                {{entry[searchKeyword] }}   \n        </a>\n        <a *ngIf=\"data && data.length <= 0 && !isSearching\" >No Data Found</a>\n        <a *ngIf=\"isSearching\">Searching...</a>\n    </div>\n    \n  </div>\n  `,\n  styles: [`\n  \n    .dropdown-content {\n      background-color: #fafafa;\n      width: 100%;\n      max-height: 150px;\n      overflow-y: auto;\n      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n      z-index: 1;\n      cursor: pointer;\n    }\n\n    .dropdown-content a {\n      color: black;\n      padding: 15px 18px;\n      text-decoration: none;\n      display: block;\n    }\n\n    .suggestion-active, .dropdown-content a:hover {background-color: #f1f1f1}\n\n    input {\n      width: 100%;\n      padding: 12px 20px;\n      margin: 8px 0;\n      box-sizing: border-box;\n    }\n \n  `]\n})\nexport class NgxAutocompleteComponent implements OnInit {\n\n  @Input() entries: Array<any>;\n  @Input() placeholderValue: string;\n  @Input() inputId: string;\n  @Input() searchKeyword: any;\n  @ViewChild('searchInput', { static: true }) searchInput: ElementRef;\n  @Output() selectedValue = new EventEmitter<any>();\n\n  data: any = [];\n  showSearches: boolean = false;\n  isSearching: boolean = false;\n  activeSuggestion = 0;\n  searchValue: any;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.dataSearch();\n  }\n\n  getData(name): Observable<any> {\n    let data = this.entries.filter((val) => {\n      return val[this.searchKeyword].toLowerCase().includes(name.toLowerCase()) == true;\n    })\n    return of(data);\n  }\n\n  dataSearch() {\n    const search$ = fromEvent(this.searchInput.nativeElement, 'input').pipe(\n      map((event: any) => event.target.value),\n      debounceTime(500),\n      tap(() => this.isSearching = true),\n      switchMap((term) => term ? this.getData(term) : of([])),\n      tap(() => {\n        this.isSearching = false,\n          this.showSearches = true;\n      }));\n\n    search$.subscribe(data => {\n      this.isSearching = false\n      this.data = data;\n    })\n  }\n\n  setValue(data) {\n    let value = data[this.searchKeyword];\n    this.searchInput.nativeElement.value = value;\n    this.data = [data];\n    this.activeSuggestion = 0;\n    this.selectedValue.emit(data);\n    this.showSearches = false;\n  }\n\n\n  trackById(index, item): void {\n    return item._id;\n  }\n\n  closeDropDown(): void {\n    this.showSearches = false;\n  }\n\n  changeSuggestion(e) {\n    if (e.keyCode === 13) {\n      if( this.data.length != 0) {\n        this.setValue(this.data[this.activeSuggestion])\n        this.scrollTo();\n      }\n    }\n    // User pressed the up arrow\n    else if (e.keyCode == 38) {\n      if (this.activeSuggestion == 0) {\n        return false;\n      }\n      else {\n        this.activeSuggestion = this.activeSuggestion - 1;\n        this.scrollTo();\n      }\n    }\n    // User pressed the down arrow\n    else if (e.keyCode == 40) {\n      if (this.activeSuggestion == this.data.length - 1) {\n        return false;\n      }\n      else {\n        this.activeSuggestion = this.activeSuggestion + 1;\n        this.scrollTo();\n      }\n    }\n  }\n\n  private scrollTo() {\n    let str = `list${this.activeSuggestion}`;\n    let elmnt = document.getElementById(str);\n    elmnt.scrollIntoView();\n    window.scrollTo(0, 0);\n  }\n\n}\n","import { Directive, ElementRef, Output, EventEmitter, HostListener, Input } from '@angular/core';\n\n@Directive({\n    selector: '[clickOutside]',\n})\nexport class DropdownDirective {\n    @Output() public clickOutside = new EventEmitter();\n    @Input() inputId: any;\n    constructor(private _elementRef: ElementRef) {\n    }\n\n    @HostListener('document:click', ['$event.target'])\n    public onClick(targetElement) {\n        if (targetElement.id == this.inputId) { return; }\n        const isClickedInside = this._elementRef.nativeElement.contains(targetElement);\n        if (!isClickedInside) {\n            this.clickOutside.emit(null);\n        }\n    }\n}","import { NgModule } from '@angular/core';\nimport { NgxAutocompleteComponent } from './ngx-autocomplete.component';\nimport { CommonModule } from '@angular/common';\nimport { DropdownDirective } from './dropdown.directive';\n\n\n\n@NgModule({\n  declarations: [\n    NgxAutocompleteComponent,\n    DropdownDirective\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    NgxAutocompleteComponent\n  ]\n})\nexport class NgxAutocompleteModule { }\n"],"names":["Injectable","EventEmitter","of","fromEvent","map","debounceTime","tap","switchMap","Component","Input","ViewChild","Output","Directive","ElementRef","HostListener","NgModule","CommonModule"],"mappings":"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"}