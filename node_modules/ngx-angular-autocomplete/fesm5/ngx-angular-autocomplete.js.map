{"version":3,"file":"ngx-angular-autocomplete.js","sources":["ng://ngx-angular-autocomplete/lib/ngx-autocomplete.service.ts","ng://ngx-angular-autocomplete/lib/ngx-autocomplete.component.ts","ng://ngx-angular-autocomplete/lib/dropdown.directive.ts","ng://ngx-angular-autocomplete/lib/ngx-autocomplete.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxAutocompleteService {\n\n  constructor() { }\n}\n","import { Component, OnInit, ViewChild, ElementRef, Output, EventEmitter, Input } from '@angular/core';\nimport { of, fromEvent, Observable } from \"rxjs\";\nimport { debounceTime, map, distinctUntilChanged, switchMap, tap } from \"rxjs/operators\";\n\n@Component({\n  selector: 'ngx-autocomplete',\n  template: `\n    <div class=\"position-relative\">\n\n    <input type=\"text\" class=\"form-control\" [placeholder]=\"placeholderValue\" id=\"auto-search\" #searchInput autocomplete=\"off\" [id]=\"inputId+1\" (click)=\"showSearches = true\" (keyup)=\"changeSuggestion($event)\">\n    \n    <div [id]=\"inputId+2\" clickOutside (clickOutside)=\"closeDropDown()\" [inputId]=\"inputId+1\" [hidden]=\"!showSearches\" class=\"dropdown-content\">\n        <a *ngFor=\"let entry of data; trackBy: trackById;let i = index\" tappable (click)=\"setValue(entry)\"  [ngClass]=\"{ 'suggestion-active' : i == activeSuggestion} \" id=\"list{{i}}\">\n                {{entry[searchKeyword] }}   \n        </a>\n        <a *ngIf=\"data && data.length <= 0 && !isSearching\" >No Data Found</a>\n        <a *ngIf=\"isSearching\">Searching...</a>\n    </div>\n    \n  </div>\n  `,\n  styles: [`\n  \n    .dropdown-content {\n      background-color: #fafafa;\n      width: 100%;\n      max-height: 150px;\n      overflow-y: auto;\n      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n      z-index: 1;\n      cursor: pointer;\n    }\n\n    .dropdown-content a {\n      color: black;\n      padding: 15px 18px;\n      text-decoration: none;\n      display: block;\n    }\n\n    .suggestion-active, .dropdown-content a:hover {background-color: #f1f1f1}\n\n    input {\n      width: 100%;\n      padding: 12px 20px;\n      margin: 8px 0;\n      box-sizing: border-box;\n    }\n \n  `]\n})\nexport class NgxAutocompleteComponent implements OnInit {\n\n  @Input() entries: Array<any>;\n  @Input() placeholderValue: string;\n  @Input() inputId: string;\n  @Input() searchKeyword: any;\n  @ViewChild('searchInput', { static: true }) searchInput: ElementRef;\n  @Output() selectedValue = new EventEmitter<any>();\n\n  data: any = [];\n  showSearches: boolean = false;\n  isSearching: boolean = false;\n  activeSuggestion = 0;\n  searchValue: any;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.dataSearch();\n  }\n\n  getData(name): Observable<any> {\n    let data = this.entries.filter((val) => {\n      return val[this.searchKeyword].toLowerCase().includes(name.toLowerCase()) == true;\n    })\n    return of(data);\n  }\n\n  dataSearch() {\n    const search$ = fromEvent(this.searchInput.nativeElement, 'input').pipe(\n      map((event: any) => event.target.value),\n      debounceTime(500),\n      tap(() => this.isSearching = true),\n      switchMap((term) => term ? this.getData(term) : of([])),\n      tap(() => {\n        this.isSearching = false,\n          this.showSearches = true;\n      }));\n\n    search$.subscribe(data => {\n      this.isSearching = false\n      this.data = data;\n    })\n  }\n\n  setValue(data) {\n    let value = data[this.searchKeyword];\n    this.searchInput.nativeElement.value = value;\n    this.data = [data];\n    this.activeSuggestion = 0;\n    this.selectedValue.emit(data);\n    this.showSearches = false;\n  }\n\n\n  trackById(index, item): void {\n    return item._id;\n  }\n\n  closeDropDown(): void {\n    this.showSearches = false;\n  }\n\n  changeSuggestion(e) {\n    if (e.keyCode === 13) {\n      if( this.data.length != 0) {\n        this.setValue(this.data[this.activeSuggestion])\n        this.scrollTo();\n      }\n    }\n    // User pressed the up arrow\n    else if (e.keyCode == 38) {\n      if (this.activeSuggestion == 0) {\n        return false;\n      }\n      else {\n        this.activeSuggestion = this.activeSuggestion - 1;\n        this.scrollTo();\n      }\n    }\n    // User pressed the down arrow\n    else if (e.keyCode == 40) {\n      if (this.activeSuggestion == this.data.length - 1) {\n        return false;\n      }\n      else {\n        this.activeSuggestion = this.activeSuggestion + 1;\n        this.scrollTo();\n      }\n    }\n  }\n\n  private scrollTo() {\n    let str = `list${this.activeSuggestion}`;\n    let elmnt = document.getElementById(str);\n    elmnt.scrollIntoView();\n    window.scrollTo(0, 0);\n  }\n\n}\n","import { Directive, ElementRef, Output, EventEmitter, HostListener, Input } from '@angular/core';\n\n@Directive({\n    selector: '[clickOutside]',\n})\nexport class DropdownDirective {\n    @Output() public clickOutside = new EventEmitter();\n    @Input() inputId: any;\n    constructor(private _elementRef: ElementRef) {\n    }\n\n    @HostListener('document:click', ['$event.target'])\n    public onClick(targetElement) {\n        if (targetElement.id == this.inputId) { return; }\n        const isClickedInside = this._elementRef.nativeElement.contains(targetElement);\n        if (!isClickedInside) {\n            this.clickOutside.emit(null);\n        }\n    }\n}","import { NgModule } from '@angular/core';\nimport { NgxAutocompleteComponent } from './ngx-autocomplete.component';\nimport { CommonModule } from '@angular/common';\nimport { DropdownDirective } from './dropdown.directive';\n\n\n\n@NgModule({\n  declarations: [\n    NgxAutocompleteComponent,\n    DropdownDirective\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    NgxAutocompleteComponent\n  ]\n})\nexport class NgxAutocompleteModule { }\n"],"names":[],"mappings":"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"}