{"version":3,"sources":["webpack:///src/app/dashboard/dashboard.page.html","webpack:///src/app/dashboard/dashboard-routing.module.ts","webpack:///src/app/dashboard/dashboard.module.ts","webpack:///src/app/dashboard/dashboard.page.scss","webpack:///src/app/dashboard/dashboard.page.ts"],"names":["routes","path","component","DashboardPageRoutingModule","imports","forChild","exports","DashboardPageModule","declarations","DashboardPage","apiService","statusBar","api","plt","navctrl","router","notify","letterObj","to","from","text","pdfObj","InvoicePackage","newNotify","getPackageLimit","NetworkStatus","subscribe","res","data","invoice","backButton","subscribeWithPriority","document","getElementsByTagName","style","opacity","verify","localStorage","getItem","ready","then","loadData","refresh","refresher","presentLoading","getDashboardData","pipe","API_TIMEOUT","PaidInvoiceTotal","replace","ParitallyInvoiceTotal","UnpaidInvoiceTotal","fiscal_year","Income","income","Expense","expense","net_income","overdues","gross_cgst_price","gross_igst_price","gross_sgst_price","createPieChart","createBarChart","dismissLoading","checkUnReadCount","target","complete","err","presentToastWithOptions","total","limit","PackageLimitMessage","navigate","bars","barChart","nativeElement","type","labels","datasets","label","backgroundColor","borderColor","borderWidth","options","scales","yAxes","ticks","beginAtZero","pie","pieChart","show","styleDefault","backgroundColorByHexString","selector","template"],"mappings":"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","file":"dashboard-dashboard-module-es5.js","sourcesContent":["export default \"<!-- <div *ngIf=\\\"verify\\\"> -->\\n\\n<ion-header *ngIf=\\\"verify\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Dashboard</ion-title>\\n    <!-- <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"StartScaning()\\\">\\n        <ion-icon name=\\\"qr-code-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons> -->\\n   <app-notification-bell slot=\\\"end\\\"></app-notification-bell>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content *ngIf=\\\"verify\\\">\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"loadData(true, $event)\\\">\\n    <ion-refresher-content>\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ion-label class=\\\"lbl_stick\\\">Invoice Status</ion-label>\\n  \\n    <div class=\\\"divs_\\\">\\n      <canvas #pieChart></canvas>\\n    </div>\\n    \\n    <ion-label class=\\\"lbl_stick\\\">GST</ion-label>\\n\\n    <div class=\\\"divs_\\\">\\n      <canvas #barChart></canvas>\\n    </div>\\n  \\n\\n  <div class=\\\"div_bills\\\" *ngIf=\\\"overdues?.length > 0\\\">\\n    <ion-label class=\\\"lbl_stick\\\">Overdue Invoices</ion-label>\\n    <div class=\\\"row_bills\\\">\\n    <ion-row class=\\\"row_\\\">\\n      <ion-col size=\\\"6\\\" class=\\\"col_cust\\\">\\n        <ion-label class=\\\"lbl_cust specific_\\\">Customer</ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\" class=\\\"col_cust\\\">\\n        <ion-label class=\\\"lbl_amt specific_\\\">Amount</ion-label>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngFor=\\\"let opt of overdues\\\" class=\\\"row_\\\">\\n      <ion-col size=\\\"6\\\" class=\\\"col_cust\\\">\\n        <ion-label class=\\\"lbl_cust\\\">{{opt.customer_name}}</ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\" class=\\\"col_cust\\\">\\n        <ion-label class=\\\"lbl_amt\\\">{{opt.grand_total | number:'1.2-2'}}</ion-label>\\n      </ion-col>\\n    </ion-row>\\n    </div>\\n  </div>\\n\\n  <!-- Create Invoice Button -->\\n  <div class=\\\"div_fab\\\">\\n    <ion-button shape=\\\"round\\\" size=\\\"large\\\" class=\\\"btn_ shadow_btn\\\" (click)=\\\"fnCreateInvoice()\\\">\\n      <ion-icon name=\\\"add-circle\\\" class=\\\"btn_icon\\\"></ion-icon>Create Invoice\\n    </ion-button>\\n  </div>\\n</ion-content>\\n<!-- </div> -->\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DashboardPage } from './dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DashboardPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardPageRoutingModule } from './dashboard-routing.module';\nimport { Ng2GoogleChartsModule } from 'ng2-google-charts';\n\nimport { DashboardPage } from './dashboard.page';\nimport { NotificationBellPage } from '../notification-bell/notification-bell.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,Ng2GoogleChartsModule,\n    DashboardPageRoutingModule\n  ],\n  declarations: [DashboardPage,NotificationBellPage]\n})\nexport class DashboardPageModule {}\n","export default \"ion-content {\\n  --padding-bottom: 48px;\\n}\\nion-content .lbl_stick {\\n  display: block;\\n  font-size: 12px;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  text-align: center;\\n  padding: 12px;\\n  background: var(--ion-color-light);\\n  color: var(--ion-color-primary);\\n}\\nion-content .divs_ {\\n  margin: 8px;\\n  padding: 8px;\\n  box-shadow: 0 0px 4px var(--ion-color-light-shade);\\n}\\nion-content .div_bills .row_bills {\\n  margin: 8px;\\n  padding: 8px;\\n  box-shadow: 0 0px 4px var(--ion-color-light-shade);\\n}\\nion-content .div_bills .row_bills .col_bills {\\n  padding: 0px;\\n  margin: auto;\\n}\\nion-content .div_bills .row_bills .col_bills .img_bills {\\n  height: 32px;\\n}\\nion-content .div_bills .row_bills .col_bills .lbl_bill_amt {\\n  display: block;\\n  font-weight: bold;\\n  font-size: 14px;\\n  padding: 2px 0px;\\n  color: var(--ion-color-dark);\\n}\\nion-content .div_bills .row_bills .col_bills .lbl_bill {\\n  display: block;\\n  font-size: 14px;\\n  padding: 2px 0px;\\n  text-transform: uppercase;\\n  color: var(--ion-color-medium);\\n}\\nion-content .div_bills .row_bills .col_cust {\\n  padding: 0px;\\n}\\nion-content .div_bills .row_bills .col_cust .lbl_cust {\\n  display: block;\\n  font-size: 14px;\\n  font-weight: bold;\\n  padding: 4px 0px;\\n  color: var(--ion-color-medium);\\n}\\nion-content .div_bills .row_bills .col_cust .lbl_amt {\\n  display: block;\\n  font-size: 14px;\\n  font-weight: bold;\\n  padding: 4px 0px;\\n  color: var(--ion-color-dark);\\n}\\nion-content .div_status {\\n  margin: 12px;\\n  padding: 8px;\\n  box-shadow: 0 2px 4px #bbb;\\n  border-radius: 8px;\\n  background: var(--ion-color-secondary);\\n}\\nion-content .div_status .lbl_head {\\n  display: block;\\n  font-size: 16px;\\n  padding: 4px 0px;\\n  border-bottom: 0.5px solid #bbb;\\n  font-weight: bold;\\n}\\nion-content .div_status .row_ .col_left {\\n  padding: 0px;\\n}\\nion-content .div_status .row_ .col_left .lbl_L {\\n  display: block;\\n  color: var(--ion-color-dark);\\n  font-size: 14px;\\n  padding: 4px 0px;\\n  font-weight: bold;\\n}\\nion-content .div_status .row_ .col_right {\\n  padding: 0px;\\n}\\nion-content .div_status .row_ .col_right .lbl_R {\\n  display: block;\\n  color: var(--ion-color-dark);\\n  font-size: 14px;\\n  padding: 4px 0px;\\n  text-align: right;\\n}\\n.div_fab {\\n  position: fixed;\\n  bottom: 0;\\n  width: 100%;\\n  margin: 0 auto;\\n  text-align: center;\\n  padding: 0px 0px 8px 0px;\\n}\\n.div_fab .btn_ {\\n  font-size: 14px;\\n  margin: 0px;\\n}\\n.div_fab .btn_ .btn_icon {\\n  padding-right: 8px;\\n}\\n.bold_ {\\n  font-weight: bold !important;\\n  color: var(--ion-color-primary) !important;\\n}\\n.center_ {\\n  text-align: center;\\n}\\n.border_right {\\n  border-right: 2px solid #bbb;\\n}\\n.spc_Left {\\n  padding-left: 8px !important;\\n}\\n.color_ {\\n  color: var(--ion-color-primary);\\n}\\n.specific_ {\\n  font-size: 12px !important;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  color: var(--ion-color-primary) !important;\\n  padding: 0px 0px 8px 0px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQkFBQTtBQUNGO0FBQUU7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxrQ0FBQTtFQUNBLCtCQUFBO0FBRUo7QUFBRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0RBQUE7QUFFSjtBQUNJO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxrREFBQTtBQUNOO0FBQU07RUFDRSxZQUFBO0VBQ0EsWUFBQTtBQUVSO0FBRFE7RUFDRSxZQUFBO0FBR1Y7QUFEUTtFQUNFLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLDRCQUFBO0FBR1Y7QUFEUTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtFQUNBLDhCQUFBO0FBR1Y7QUFBTTtFQUNFLFlBQUE7QUFFUjtBQURRO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsOEJBQUE7QUFHVjtBQURRO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsNEJBQUE7QUFHVjtBQUVFO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0Esc0NBQUE7QUFBSjtBQUNJO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLCtCQUFBO0VBQ0EsaUJBQUE7QUFDTjtBQUVNO0VBQ0UsWUFBQTtBQUFSO0FBQ1E7RUFDRSxjQUFBO0VBQ0EsNEJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtBQUNWO0FBRU07RUFDRSxZQUFBO0FBQVI7QUFDUTtFQUNFLGNBQUE7RUFDQSw0QkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FBQ1Y7QUFLQTtFQUNFLGVBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLHdCQUFBO0FBRkY7QUFHRTtFQUNFLGVBQUE7RUFDQSxXQUFBO0FBREo7QUFFSTtFQUNFLGtCQUFBO0FBQU47QUFJQTtFQUNFLDRCQUFBO0VBQ0EsMENBQUE7QUFERjtBQUdBO0VBQ0Usa0JBQUE7QUFBRjtBQUVBO0VBQ0UsNEJBQUE7QUFDRjtBQUNBO0VBQ0UsNEJBQUE7QUFFRjtBQUFBO0VBQ0UsK0JBQUE7QUFHRjtBQURBO0VBQ0UsMEJBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0VBQ0EsMENBQUE7RUFDQSxtQ0FBQTtBQUlGIiwiZmlsZSI6InNyYy9hcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC0tcGFkZGluZy1ib3R0b206IDQ4cHg7XG4gIC5sYmxfc3RpY2sge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAxMnB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgfVxuICAuZGl2c18ge1xuICAgIG1hcmdpbjogOHB4O1xuICAgIHBhZGRpbmc6IDhweDtcbiAgICBib3gtc2hhZG93OiAwIDBweCA0cHggdmFyKC0taW9uLWNvbG9yLWxpZ2h0LXNoYWRlKTtcbiAgfVxuICAuZGl2X2JpbGxzIHtcbiAgICAucm93X2JpbGxzIHtcbiAgICAgIG1hcmdpbjogOHB4O1xuICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgYm94LXNoYWRvdzogMCAwcHggNHB4IHZhcigtLWlvbi1jb2xvci1saWdodC1zaGFkZSk7XG4gICAgICAuY29sX2JpbGxzIHtcbiAgICAgICAgcGFkZGluZzogMHB4O1xuICAgICAgICBtYXJnaW46IGF1dG87XG4gICAgICAgIC5pbWdfYmlsbHMge1xuICAgICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgfVxuICAgICAgICAubGJsX2JpbGxfYW10IHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgcGFkZGluZzogMnB4IDBweDtcbiAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICAgICAgICB9XG4gICAgICAgIC5sYmxfYmlsbCB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDJweCAwcHg7XG4gICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5jb2xfY3VzdCB7XG4gICAgICAgIHBhZGRpbmc6IDBweDtcbiAgICAgICAgLmxibF9jdXN0IHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgcGFkZGluZzogNHB4IDBweDtcbiAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XG4gICAgICAgIH1cbiAgICAgICAgLmxibF9hbXQge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICBwYWRkaW5nOiA0cHggMHB4O1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLmRpdl9zdGF0dXMge1xuICAgIG1hcmdpbjogMTJweDtcbiAgICBwYWRkaW5nOiA4cHg7XG4gICAgYm94LXNoYWRvdzogMCAycHggNHB4ICNiYmI7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICAgIC5sYmxfaGVhZCB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIHBhZGRpbmc6IDRweCAwcHg7XG4gICAgICBib3JkZXItYm90dG9tOiAwLjVweCBzb2xpZCAjYmJiO1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuICAgIC5yb3dfIHtcbiAgICAgIC5jb2xfbGVmdCB7XG4gICAgICAgIHBhZGRpbmc6IDBweDtcbiAgICAgICAgLmxibF9MIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICBwYWRkaW5nOiA0cHggMHB4O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAuY29sX3JpZ2h0IHtcbiAgICAgICAgcGFkZGluZzogMHB4O1xuICAgICAgICAubGJsX1Ige1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDRweCAwcHg7XG4gICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi5kaXZfZmFiIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBib3R0b206IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW46IDAgYXV0bztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiAwcHggMHB4IDhweCAwcHg7XG4gIC5idG5fIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgbWFyZ2luOiAwcHg7XG4gICAgLmJ0bl9pY29uIHtcbiAgICAgIHBhZGRpbmctcmlnaHQ6IDhweDtcbiAgICB9XG4gIH1cbn1cbi5ib2xkXyB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSkgIWltcG9ydGFudDtcbn1cbi5jZW50ZXJfIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmJvcmRlcl9yaWdodCB7XG4gIGJvcmRlci1yaWdodDogMnB4IHNvbGlkICNiYmI7XG59XG4uc3BjX0xlZnQge1xuICBwYWRkaW5nLWxlZnQ6IDhweCAhaW1wb3J0YW50O1xufVxuLmNvbG9yXyB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG4uc3BlY2lmaWNfIHtcbiAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDBweCAwcHggOHB4IDBweCAhaW1wb3J0YW50O1xufVxuIl19 */\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { GoogleChartInterface } from 'ng2-google-charts';\nimport { CommonService } from '../global/common_service';\nimport { ApiService } from '../services/api.service';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { Chart } from 'chart.js';\nimport { BehaviorSubject, interval, Observable, Subscription, timer } from 'rxjs';\nimport { Platform, NavController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { NotificationService } from '../global/notification.service';\nimport { map, take, timeout } from 'rxjs/operators';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx'\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: ['./dashboard.page.scss'],\n})\nexport class DashboardPage implements OnInit {\n\n  @ViewChild('pieChart') pieChart;\n  @ViewChild('hrzLineChart') hrzLineChart;\n  @ViewChild('barChart') barChart;\n\n  letterObj = {\n    to: '',\n    from: '',\n    text: ''\n  }\n\n  pdfObj = null;\n  invoiceStatus: any;\n  PaidInvoiceTotal: any;\n  ParitallyInvoiceTotal: any;\n  UnpaidInvoiceTotal: any;\n  Income: any;\n  Expense: any;\n  net_income: any;\n  fiscal_year: any;\n  overdues: any;\n  gross_cgst_price: any;\n  gross_sgst_price: any;\n  gross_igst_price: any;\n  bars: any;\n  pie: any;\n  InvoicePackage: any = [];\n  newNotify = false;\n\n  // qrScan: any;\n  verify: string;\n\n  constructor(\n    public apiService: ApiService,\n    private statusBar: StatusBar,\n    private api: CommonService,\n    private plt: Platform,\n    private navctrl: NavController,\n    private router: Router,\n    private notify: NotificationService,\n    // private qr: QRScanner\n  ) {\n    this.apiService.getPackageLimit(this.api.NetworkStatus).subscribe(res => { this.InvoicePackage = res.data.invoice; })\n    this.plt.backButton.subscribeWithPriority(0, () => {\n      document.getElementsByTagName(\"body\")[0].style.opacity = \"1\";\n      // this.qr.hide();\n    })\n    this.verify = localStorage.getItem(\"verify\")\n  }\n\n  ngOnInit() {\n    this.plt.ready().then(() => {\n      this.loadData(this.api.NetworkStatus);\n    });\n  }\n\n  // async StartScaning() {\n  //   this.qr.prepare().then((status: QRScannerStatus) => {\n  //     if (status.authorized) {\n  //       this.qr.show();\n  //       document.getElementsByTagName('body')[0].style.opacity = \"0\";\n  //       let qrScan = this.qr.scan().subscribe((qrString) => {\n  //         document.getElementsByTagName('body')[0].style.opacity = \"1\";\n  //         console.log(\"qrString\", qrString)\n  //         if (qrString) {\n  //           this.webLogin(qrString);\n  //         }\n  //         setTimeout(function () {\n  //           this.qr.hide();\n  //           qrScan.unsubscribe();\n  //         }, 4000);\n  //       }, (err) => {\n  //         this.api.presentToastWithOptions(\"Internal Server Error Please try again after sometime.\");\n  //       })\n  //     } else if (status.denied) {\n  //     } else {\n  //     }\n  //   })\n  // }\n\n  // async webLogin(qrString) {\n  //   return new Promise((resolve, reject) => {\n  //     var body = {\n  //       \"qrString\": qrString\n  //     }\n  //     this.api.Post(\"Common/webLogin/\", body).subscribe(res => {\n  //       console.log(\"res\", res);\n  //       if (res['status'] == 1) {\n  //         resolve(res);\n  //       } else {\n  //         this.api.presentToastWithOptions(res['message']);\n  //       }\n  //     },\n  //       err => {\n  //         this.api.presentToastWithOptions(\"Internal Server Error Please try again after sometime.\");\n  //       });\n  //   })\n  // }\n\n  loadData(refresh = false, refresher?) {\n    if (!refresher) {\n      this.api.presentLoading();\n    }\n    this.apiService.getDashboardData(refresh).pipe(timeout(this.api.API_TIMEOUT)).subscribe(res => {\n      if (res.data) {\n        var data = res.data;\n        this.PaidInvoiceTotal = data.PaidInvoiceTotal.replace(/,/g, \"\") ? data.PaidInvoiceTotal.replace(/,/g, \"\") : '';\n        this.ParitallyInvoiceTotal = data.ParitallyInvoiceTotal.replace(/,/g, \"\") ? data.ParitallyInvoiceTotal.replace(/,/g, \"\") : '';\n        this.UnpaidInvoiceTotal = data.UnpaidInvoiceTotal.replace(/,/g, \"\") ? data.UnpaidInvoiceTotal.replace(/,/g, \"\") : '';\n        this.fiscal_year = data.fiscal_year ? data.fiscal_year : '';\n        this.Income = data.income ? data.income : '';\n        this.Expense = data.expense ? data.expense : '';\n        this.net_income = data.net_income ? data.net_income : '';\n        this.overdues = data.overdues ? data.overdues : [];\n        this.gross_cgst_price = data.gross_cgst_price.replace(/,/g, \"\") ? data.gross_cgst_price.replace(/,/g, \"\") : '';\n        this.gross_igst_price = data.gross_igst_price.replace(/,/g, \"\") ? data.gross_igst_price.replace(/,/g, \"\") : '';\n        this.gross_sgst_price = data.gross_sgst_price.replace(/,/g, \"\") ? data.gross_sgst_price.replace(/,/g, \"\") : '';\n        this.createPieChart()\n        this.createBarChart()\n      }\n      this.api.dismissLoading();\n      if (refresher) {\n        this.notify.checkUnReadCount();\n        refresher.target.complete();\n      } else {\n        this.api.dismissLoading();\n      }\n    },\n      err => {\n        this.api.dismissLoading();\n        this.api.presentToastWithOptions(\"Internal Server Error Please try again after sometime.\");\n      }\n    );\n  }\n\n  async fnCreateInvoice() {\n    if (this.InvoicePackage.total && this.InvoicePackage.total > this.InvoicePackage.limit) {\n      this.api.PackageLimitMessage(this.InvoicePackage.total);\n    } else {\n      this.router.navigate(['/create-invoice']);\n    }\n  }\n\n  createBarChart() {\n    this.bars = new Chart(this.barChart.nativeElement, {\n      type: 'bar',\n      data: {\n        labels: [''],\n        datasets: [{\n          label: 'SGST',\n          data: [this.gross_sgst_price],\n          backgroundColor: [\n            'rgb(250, 149, 0)',\n          ],\n          borderColor: [\n            'rgb(250, 149, 0)',\n          ],\n          borderWidth: 1\n        },\n        {\n          label: 'CGST',\n          data: [this.gross_cgst_price],\n          backgroundColor: [\n            'rgb(83, 141, 34)',\n          ],\n          borderColor: [\n            'rgb(83, 141, 34)',\n          ],\n          borderWidth: 1\n        },\n        {\n          label: 'IGST',\n          data: [this.gross_igst_price],\n          backgroundColor: [\n            'rgb(208, 0, 0)',\n\n          ],\n          borderColor: [\n            'rgb(208, 0, 0)',\n          ],\n          borderWidth: 1\n        }\n        ]\n      },\n      options: {\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true\n            }\n          }]\n        }\n      }\n    });\n  }\n\n  createPieChart() {\n    this.pie = new Chart(this.pieChart.nativeElement, {\n      type: 'doughnut',\n      data: {\n        labels: ['Paid', 'Paritally', 'Unpaid'],\n        datasets: [{\n          label: 'Viewers',\n          data: [this.PaidInvoiceTotal, this.ParitallyInvoiceTotal, this.UnpaidInvoiceTotal],\n          backgroundColor: [\n            'rgb(40, 167, 69)',\n            'rgb(152, 243, 164)',\n            'rgb(220, 53, 69)',\n          ],\n          borderColor: [\n            'rgb(40, 167, 69)',\n            'rgb(152, 243, 164)',\n            'rgb(220, 53, 69)',\n          ],\n          borderWidth: 1\n        }]\n      },\n    });\n  }\n\n  ionViewWillEnter() {\n    this.notify.checkUnReadCount();\n    this.statusBar.show();\n    this.statusBar.styleDefault();\n    this.statusBar.backgroundColorByHexString('#FFF');\n  }\n}\n"]}